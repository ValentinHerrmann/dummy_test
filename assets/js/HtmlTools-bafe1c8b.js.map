{"version":3,"file":"HtmlTools-bafe1c8b.js","sources":["../../../src/tools/StringTools.ts","../../../src/tools/HtmlTools.ts"],"sourcesContent":["export function hash(s: string){\r\n    let hash: number = 0;\r\n    let chr: number;\r\n    for (let i = 0; i < s.length; i++) {\r\n      chr   = s.charCodeAt(i);\r\n      hash  = ((hash << 5) - hash) + chr;\r\n      hash |= 0; // Convert to 32bit integer\r\n    }\r\n    return hash;\r\n}\r\n\r\nexport function escapeHtml(unsafe: string): string {\r\n  return unsafe\r\n      .replace(/['\"]+/g, '')\r\n       .replace(/&/g, \"&amp;\")\r\n       .replace(/</g, \"&lt;\")\r\n       .replace(/>/g, \"&gt;\")\r\n       .replace(/\"/g, \"&quot;\")\r\n       .replace(/'/g, \"&#039;\");\r\n}\r\n\r\nexport function dateToString(date: Date): string{\r\n  return `${twoDez(date.getDate())}.${twoDez(date.getMonth() + 1)}.${date.getFullYear()}, ${twoDez(date.getHours())}:${twoDez(date.getMinutes())}`;\r\n}\r\n\r\nexport function dateToStringWithoutTime(date: Date): string{\r\n  return `${twoDez(date.getDate())}.${twoDez(date.getMonth() + 1)}.${date.getFullYear()}`;\r\n}\r\n\r\nfunction twoDez(z: number):string {\r\n  if(z < 10) return \"0\" + z;\r\n  return \"\" + z;\r\n}\r\n\r\nexport function stringToDate(text: string): Date {\r\n\r\n  let match = text.match(/^(\\d{2})\\.(\\d{2})\\.(\\d{4}), (\\d{2}):(\\d{2})$/);\r\n\r\n  let date: Date = new Date(Number.parseInt(match[3]), Number.parseInt(match[2]) - 1, Number.parseInt(match[1]), Number.parseInt(match[4]), Number.parseInt(match[5]) );\r\n\r\n  return date;\r\n}\r\n\r\nexport function stringWrap(s: string, length: number ): string{\r\n  return s.replace(\r\n    new RegExp(`(?![^\\\\n]{1,${length}}$)([^\\\\n]{1,${length}})\\\\s`, 'g'), '$1\\n'\r\n  );\r\n} \r\n\r\nexport function formatAsJavadocComment(s: string, indent: number|string = \"\"): string {\r\n  let indentString = \"\";\r\n\r\n  if(typeof indent == \"string\"){\r\n    indentString = indent;\r\n  } else {\r\n    for(let i = 0; i < indent; i++){\r\n      indentString += \" \";\r\n    }\r\n  }\r\n\r\n  s = stringWrap(s, 60);\r\n  if(s.length > 0) s = \"\\n\" + s;\r\n  s = indentString + \"/**\" + s.replace(/\\n/g, \"\\n\" + indentString + \" * \") + \"\\n\" + indentString + \" */\";\r\n  return s;\r\n}","import jQuery from 'jquery';\r\nimport { escapeHtml } from \"./StringTools.js\";\r\n\r\nexport function makeEditable(elementWithText: JQuery<HTMLElement>,\r\n    elementToReplace: JQuery<HTMLElement>,\r\n    renameDoneCallback: (newContent: string) => void, selectionRange: { start: number, end: number } = null) {\r\n\r\n    let mousePointer = window.PointerEvent ? \"pointer\" : \"mouse\";\r\n\r\n    if (elementToReplace == null) {\r\n        elementToReplace = elementWithText;\r\n    }\r\n\r\n    let $input = jQuery('<input type=\"text\" class=\"jo_inplaceeditor\" spellcheck=\"false\">');\r\n    $input.css({\r\n        width: elementToReplace.css('width'),\r\n        height: elementToReplace.css('height'),\r\n        color: elementToReplace.css('color'),\r\n        position: elementToReplace.css('position'),\r\n        \"background-color\": elementToReplace.css('background-color'),\r\n        \"font-size\": elementToReplace.css('font-size'),\r\n        \"font-weight\": elementToReplace.css('font-weight'),\r\n        \"box-sizing\": \"border-box\"\r\n    });\r\n    $input.val(elementWithText.text());\r\n    $input.on(mousePointer + \"down\", (e) => { e.stopPropagation(); })\r\n\r\n    if (selectionRange != null) {\r\n        (<HTMLInputElement>$input[0]).setSelectionRange(selectionRange.start, selectionRange.end);\r\n    }\r\n\r\n    elementToReplace.after($input);\r\n    elementToReplace.hide();\r\n    setTimeout(() => {\r\n        $input.focus();\r\n    }, 300);\r\n\r\n    $input.on(\"keydown.me\", (ev) => {\r\n        if (ev.key == \"Enter\" || ev.key == \"Escape\") {\r\n            $input.off(\"keydown.me\");\r\n            $input.off(\"focusout.me\");\r\n            $input.remove();\r\n            elementToReplace.show();\r\n            let newValue = escapeHtml(<string>$input.val());\r\n            renameDoneCallback(newValue);\r\n            return;\r\n        }\r\n    });\r\n\r\n    $input.on(\"focusout.me\", (ev) => {\r\n        $input.off(\"keydown.me\");\r\n        $input.off(\"focusout.me\");\r\n        $input.remove();\r\n        elementToReplace.show();\r\n        let newValue = escapeHtml(<string>$input.val());\r\n        renameDoneCallback(newValue);\r\n        return;\r\n    });\r\n\r\n}\r\n\r\nexport type ContextMenuItem = {\r\n    caption: string;\r\n    color?: string;\r\n    callback: () => void;\r\n    link?: string;\r\n    subMenu?: ContextMenuItem[]\r\n};\r\n\r\nexport function openContextMenu(items: ContextMenuItem[], x: number, y: number): JQuery<HTMLElement> {\r\n\r\n    let mousePointer = window.PointerEvent ? \"pointer\" : \"mouse\";\r\n\r\n    let $contextMenu = jQuery('<div class=\"jo_contextmenu\"></div>');\r\n\r\n    let $openSubMenu: JQuery<HTMLElement> = null;\r\n    let parentMenuItem: ContextMenuItem = null;\r\n\r\n    for (let mi of items) {\r\n        let caption: string = mi.caption;\r\n        if (mi.link != null) {\r\n            caption = `<a href=\"${mi.link}\" target=\"_blank\" class=\"jo_menulink\">${mi.caption}</a>`;\r\n        }\r\n        let $item = jQuery('<div>' + caption + (mi.subMenu != null ? '<span style=\"float: right\"> &nbsp; &nbsp; &gt;</span>' : \"\") + '</div>');\r\n        if (mi.color != null) {\r\n            $item.css('color', mi.color);\r\n        }\r\n        if (mi.link == null) {\r\n            $item.on(mousePointer + 'up.contextmenu', (ev) => {\r\n                ev.stopPropagation();\r\n                jQuery('.jo_contextmenu').remove();\r\n                jQuery(document).off(mousePointer + \"up.contextmenu\");\r\n                jQuery(document).off(mousePointer + \"down.contextmenu\");\r\n                jQuery(document).off(\"keydown.contextmenu\");\r\n                mi.callback();\r\n            });\r\n            $item.on(mousePointer + 'down.contextmenu', (ev) => {\r\n                ev.stopPropagation();\r\n            });\r\n        } else {\r\n            let $link = $item.find('a');\r\n            $link.on(mousePointer + \"up\", (event) => {\r\n                event.stopPropagation();\r\n                setTimeout(() => {\r\n                    $item.hide();\r\n                }, 500);\r\n            })\r\n            $link.on(mousePointer + \"down\", (event) => {\r\n                event.stopPropagation();\r\n            })\r\n\r\n        }\r\n\r\n        $item.on(mousePointer + 'move.contextmenu', () => {\r\n            if (mi != parentMenuItem && $openSubMenu != null) {\r\n                $openSubMenu.remove();\r\n                parentMenuItem = null;\r\n                $openSubMenu = null;\r\n            }\r\n            if (mi.subMenu != null) {\r\n                $openSubMenu = openContextMenu(mi.subMenu, $item.offset().left + $item.width(), $item.offset().top);\r\n            }\r\n        });\r\n\r\n        $contextMenu.append($item);\r\n    }\r\n\r\n    jQuery(document).on(mousePointer + \"down.contextmenu\", (e) => {\r\n        jQuery(document).off(mousePointer + \"down.contextmenu\");\r\n        jQuery(document).off(\"keydown.contextmenu\");\r\n        jQuery('.jo_contextmenu').remove();\r\n    })\r\n\r\n    jQuery(document).on(\"keydown.contextmenu\", (ev) => {\r\n        if (ev.key == \"Escape\") {\r\n            jQuery(document).off(mousePointer + \"up.contextmenu\");\r\n            jQuery(document).off(\"keydown.contextmenu\");\r\n            jQuery('.jo_contextmenu').remove();\r\n        }\r\n    });\r\n\r\n    let leftRight = x > window.innerWidth * 0.8 ? \"right\" : \"left\";\r\n    let xp = x > window.innerWidth * 0.8 ? window.innerWidth - x : x;\r\n    let topBottom = y > window.innerHeight * 0.8 ? \"bottom\" : \"top\";\r\n    let yp = y > window.innerHeight * 0.8 ? window.innerHeight - y : y;\r\n\r\n    let css = {};\r\n    css[leftRight] = xp + \"px\";\r\n    css[topBottom] = yp + \"px\";\r\n\r\n    $contextMenu.css(css);\r\n\r\n\r\n    jQuery(\"body\").append($contextMenu);\r\n    $contextMenu.show();\r\n\r\n    return $contextMenu;\r\n}\r\n\r\nexport function makeTabs(tabDiv: JQuery<HTMLElement>) {\r\n    let headings = tabDiv.find('.jo_tabheadings>div').not('.jo_noHeading');\r\n    let tabs = tabDiv.find('.jo_tabs>div');\r\n\r\n    let mousePointer = window.PointerEvent ? \"pointer\" : \"mouse\";\r\n\r\n    headings.on(mousePointer + \"down\", (ev) => {\r\n        let target = jQuery(ev.target);\r\n        headings.removeClass('jo_active');\r\n        target.addClass('jo_active');\r\n        let tab = tabDiv.find('.' + target.data('target'));\r\n        tabs.removeClass('jo_active');\r\n        tabs.trigger('myhide');\r\n        tab.addClass('jo_active');\r\n        tab.trigger('myshow');\r\n    });\r\n\r\n}\r\n\r\nexport function convertPxToNumber(pxString: string): number {\r\n    pxString = pxString.replace('px', '').trim();\r\n    return Number.parseInt(pxString);\r\n}\r\n\r\nexport function makeDiv(id: string, klass: string = \"\", text: string = \"\", css?: { [id: string]: any }, $parentDiv?: JQuery<HTMLElement>): JQuery<HTMLDivElement> {\r\n\r\n    let s = \"\";\r\n    if (id != null && id != \"\") s += ` id=\"${id}\"`;\r\n\r\n    if (klass != null && klass != \"\") s += ` class=\"${klass}\"`;\r\n\r\n    let div = jQuery(`<div${s}></div>`);\r\n\r\n    if (css != null) {\r\n        div.css(css);\r\n    }\r\n\r\n    if (text != null && text != \"\") {\r\n        div.text(text);\r\n    }\r\n\r\n    if ($parentDiv != null) {\r\n        $parentDiv.append(div);\r\n    }\r\n\r\n    return <any>div;\r\n\r\n}\r\n\r\nexport type SelectItem = {\r\n    value: string | number,\r\n    object: any,\r\n    caption: string\r\n}\r\n\r\nexport function setSelectItems($selectElement: JQuery<HTMLSelectElement>, items: SelectItem[], activeItemValue?: string | number) {\r\n    $selectElement.empty();\r\n    items.forEach(item => {\r\n        let selected: string = (item.value == activeItemValue) ? ' selected=\"selected\"' : \"\";\r\n        let element = jQuery(`<option value=${item.value}${selected}>${item.caption}</option>`);\r\n        $selectElement.append(element);\r\n        element.data('object', item.object);\r\n    }\r\n    );\r\n\r\n    $selectElement.data('items', items);\r\n\r\n\r\n}\r\n\r\nexport function getSelectedObject($selectDiv: JQuery<HTMLSelectElement>) {\r\n\r\n    let items: SelectItem[] = $selectDiv.data('items');\r\n\r\n    let selectedValue = $selectDiv.val();\r\n\r\n    return items.find(item => item.value == selectedValue)?.object;\r\n\r\n}\r\n\r\nexport var jo_mouseDetected: boolean = false;\r\nexport function checkIfMousePresent() {\r\n    if (matchMedia('(pointer:fine)').matches) {\r\n        jo_mouseDetected = true;\r\n    }\r\n}\r\n\r\nexport function animateToTransparent($element: JQuery<HTMLElement>, cssProperty: string, startColorRgb: number[], duration: number) {\r\n    let colorPraefix = 'rgba(' + startColorRgb[0] + \", \" + startColorRgb[1] + \", \" + startColorRgb[2] + \", \";\r\n    let value = 1.0;\r\n    let delta = value / (duration / 20);\r\n\r\n    let animate = () => {\r\n        $element.css(cssProperty, colorPraefix + value + \")\");\r\n        value -= delta;\r\n        if (value < 0) {\r\n            $element.css(cssProperty, \"\");\r\n        } else {\r\n            setTimeout(animate, 20);\r\n        }\r\n    }\r\n\r\n    animate();\r\n}\r\n\r\nexport function downloadFile(obj: any, filename: string, isBlob: boolean = false) {\r\n    var blob = isBlob ? obj : new Blob([JSON.stringify(obj)], { type: 'text/plain' });\r\n    //@ts-ignore\r\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n        //@ts-ignore\r\n        window.navigator.msSaveOrOpenBlob(blob, filename);\r\n    } else {\r\n        var e = document.createEvent('MouseEvents'),\r\n            a = document.createElement('a');\r\n        a.download = filename;\r\n        a.href = window.URL.createObjectURL(blob);\r\n        a.dataset.downloadurl = ['text/plain', a.download, a.href].join(':');\r\n        //@ts-ignore\r\n        e.initEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n        a.dispatchEvent(e);\r\n        a.remove();\r\n    }\r\n}\r\n\r\n\r\nfunction fallbackCopyTextToClipboard(text) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n\r\n    // Avoid scrolling to bottom\r\n    textArea.style.top = \"0\";\r\n    textArea.style.left = \"0\";\r\n    textArea.style.position = \"fixed\";\r\n\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n\r\n    try {\r\n        var successful = document.execCommand('copy');\r\n    } catch (err) {\r\n        console.error('Fallback: Oops, unable to copy', err);\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n}\r\n\r\nexport function copyTextToClipboard(text) {\r\n    if (!navigator.clipboard) {\r\n        fallbackCopyTextToClipboard(text);\r\n        return;\r\n    }\r\n    navigator.clipboard.writeText(text).then(function () {\r\n    }, function (err) {\r\n        console.error('Async: Could not copy text: ', err);\r\n    });\r\n}\r\n\r\nexport function lightenDarkenHexColor(col: string, amount: number) {\r\n    var num = parseInt(col, 16);\r\n    var r = (num >> 16) + amount;\r\n    var g = ((num >> 8) & 0x00FF) + amount;\r\n    var b = (num & 0x0000FF) + amount;\r\n    var newColor = b | (g << 8) | (r << 16);\r\n    return newColor.toString(16);\r\n}\r\n\r\nexport function lightenDarkenIntColor(color: number, amount: number) {\r\n    var r = (color >> 16);\r\n    var g = ((color >> 8) & 0x00FF);\r\n    var b = (color & 0x0000FF);\r\n    r = (Math.round((0xff - r) * amount) + r) & 0xff;\r\n    g = (Math.round((0xff - g) * amount) + g) & 0xff;\r\n    b = (Math.round((0xff - b) * amount) + b) & 0xff;\r\n    var newColor = b | (g << 8) | (r << 16);\r\n    return newColor;\r\n}\r\n\r\nexport function getCookieValue(name: string): string | undefined {\r\n    const regex = new RegExp(`(^| )${name}=([^;]+)`)\r\n    const match = document.cookie.match(regex)\r\n    if (match) {\r\n        return match[2]\r\n    }\r\n}\r\n\r\nexport function findGetParameter(parameterName: string) {\r\n    var result: string | null = null,\r\n        tmp: string[] = [];\r\n    location.search\r\n        .substring(1)\r\n        .split(\"&\")\r\n        .forEach(function (item) {\r\n            tmp = item.split(\"=\");\r\n            if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);\r\n        });\r\n    return result;\r\n}"],"names":["hash","s","chr","i","escapeHtml","unsafe","dateToString","date","twoDez","dateToStringWithoutTime","z","stringToDate","text","match","stringWrap","length","formatAsJavadocComment","indent","indentString","makeEditable","elementWithText","elementToReplace","renameDoneCallback","selectionRange","mousePointer","$input","jQuery","e","ev","newValue","openContextMenu","items","x","y","$contextMenu","$openSubMenu","parentMenuItem","mi","caption","$item","$link","event","leftRight","xp","topBottom","yp","css","makeTabs","tabDiv","headings","tabs","target","tab","convertPxToNumber","pxString","makeDiv","id","klass","$parentDiv","div","setSelectItems","$selectElement","activeItemValue","item","selected","element","getSelectedObject","$selectDiv","selectedValue","_a","jo_mouseDetected","checkIfMousePresent","animateToTransparent","$element","cssProperty","startColorRgb","duration","colorPraefix","value","delta","animate","downloadFile","obj","filename","isBlob","blob","a","fallbackCopyTextToClipboard","textArea","successful","err","copyTextToClipboard","lightenDarkenIntColor","color","amount","r","g","b","newColor","findGetParameter","parameterName","result","tmp"],"mappings":"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"}